

{% extends 'frontend/base.html' %}

{% block content %}
    <div class="site-blocks-cover overlay inner-page" style="background-image: url(/static/frontend/images/forms3.jpg);" data-aos="fade"
      data-stellar-background-ratio="0.5">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-10">
            <span class="sub-text">Resources</span>
            <h1>Download Center</h1>
            <p class="lead text-white-50">Access registration forms, documents, and resources</p>
          </div>
        </div>
      </div>
    </div>

    <div class="site-section bg-light">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center mb-5">
            <h2 class="font-weight-bold text-black mb-3">Available Downloads</h2>
            <p class="text-dark">Download essential forms, documents, and resources for REDAN Enugu membership and activities</p>
          </div>
        </div>

        <!-- Dynamic Forms Section -->
        {% if forms %}
        <div class="row mb-5">
          <div class="col-12">
            <h3 class="font-weight-bold text-primary mb-4">
              <i class="fas fa-file-alt mr-2"></i>Available Forms
            </h3>
          </div>
          {% for form in forms %}
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center p-4">
                <div class="mb-3">
                  {% if form.file_type == 'PDF' %}
                    <i class="fas fa-file-pdf fa-3x text-danger"></i>
                  {% elif form.file_type == 'DOC' or form.file_type == 'DOCX' %}
                    <i class="fas fa-file-word fa-3x text-primary"></i>
                  {% elif form.file_type == 'XLS' or form.file_type == 'XLSX' %}
                    <i class="fas fa-file-excel fa-3x text-success"></i>
                  {% else %}
                    <i class="fas fa-file fa-3x text-secondary"></i>
                  {% endif %}
                </div>
                <h5 class="card-title font-weight-bold">{{ form.name }}</h5>
                <p class="card-text text-muted">
                  {% if form.description %}
                    {{ form.description|truncatechars:100 }}
                  {% else %}
                    Download this form for REDAN Enugu membership and activities.
                  {% endif %}
                </p>
                <div class="mt-auto">
                  <a href="{% url 'download_form' form.id %}" class="btn btn-primary btn-block" download>
                    <i class="fas fa-download mr-2"></i>Download {{ form.file_type }}
                  </a>
                  <small class="text-muted d-block mt-2">
                    {% if form.file_type %}Type: {{ form.file_type }}{% endif %} | 
                    Updated: {{ form.updated_at|date:"M Y" }}
                  </small>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        {% else %}
        <!-- No Forms Available Message -->
        <div class="row mb-5">
          <div class="col-12 text-center">
            <div class="card border-0 shadow-sm">
              <div class="card-body p-5">
                <i class="fas fa-file-alt fa-4x text-muted mb-3"></i>
                <h4 class="font-weight-bold text-muted mb-3">No Forms Available</h4>
                <p class="text-muted">There are currently no forms available for download. Please check back later.</p>
              </div>
            </div>
          </div>
        </div>
        {% endif %}

        <!-- Quick Access Section -->
        <div class="row">
          <div class="col-12">
            <div class="card border-0 shadow-sm bg-primary text-white">
              <div class="card-body p-4">
                <div class="row align-items-center">
                  <div class="col-md-8">
                    <h4 class="font-weight-bold mb-2">Need Help with Downloads?</h4>
                    <p class="mb-0">Having trouble downloading files or need assistance with forms? Our support team is here to help you.</p>
                  </div>
                  <div class="col-md-4 text-md-right mt-3 mt-md-0">
                    <a href="contact.html" class="btn btn-light btn-lg">
                      <i class="fas fa-headset mr-2"></i>Get Support
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

{% endblock content %}